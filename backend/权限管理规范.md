# 权限管理

[TOC]

---

如若需要对接口进行权限限制，需要在类的头部和方法的头部添加注解 `@Operation`；

- 类的头部示例：

```
@Operation(code = "plat_application", name = "平台应用模块")
public class PlatApplicationController extends BaseController {
    ...
}
```

- 示例说明：

  - code 应为英文字母(含下划线) 的字符串，且唯一的key，格式应为：产品编码_模块编码_xxx
  - name 中文描述该模块的作用

- 方法的头部示例：

```
@RequestMapping(value = "/list_all", method = RequestMethod.GET)
@Operation(code = OpConstants.CODE_QUERY, name = OpConstants.NAME_QUERY)
public ResultVo<List<PlatApplication>> queryPlatApplicationListAll() {
    ...
}
```

- 示例说明(code和name参考下表)：

  - code 应为英文字母(含下划线) 的字符串
  - name 方法描述

  
- 系统预定义常量表:
  
| No. | Type | OpConstants.CODE | OpConstants.NAME |
| --- | --- | --- | --- |
| 1 | 添加  | CODE_ADD | NAME_ADD  |
| 2 | 删除  | CODE_DELETE | NAME_DELETE  |
| 3 | 修改  | CODE_EDIT | NAME_EDIT  |
| 4 | 查询  | CODE_QUERY | NAME_QUERY  |

除上述常量外，也可以自行定义。

## AccessType：

* MANAGER
* INTERNAL 
* CLIENT
* ALL_LOGIN_USER

### 单个注解限制

| No. | AccessType |  Description |
| --- | --- | --- |
| 1 | MANAGER | 仅限管理端 |
| 2 | INTERNAL | 仅限内部调用 |
| 3 | CLIENT | 仅限客户端用户调用 |
| 4 | ALL_LOGIN_USER | 只需登录即可调用 |
| 5 | 无注解 | 开放调用 |

### 组合注解限制

| No. | AccessType |  Description |
| --- | --- | --- |
| 1 | MANAGER, ALL_LOGIN_USER | 仅限管理端且登录后调用 |
| 2 | CLIENT, ALL_LOGIN_USER | 仅限客户端用户且登录后调用 |




